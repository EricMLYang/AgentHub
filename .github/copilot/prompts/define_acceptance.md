# Prompt: 定義驗收標準（Acceptance Criteria）

## 目的
把模糊的需求轉成具體、可觀察、可否定的驗收標準（Acceptance Criteria）。

---

## 使用方式

### 1. 複製以下 prompt 到 Copilot Chat

```
我有一個需求，請幫我定義「驗收標準」（Acceptance Criteria）。

請根據我的需求，產出 3-5 條驗收標準，每條必須：
- **可觀察**：可以透過測試、檢查、測量來確認
- **可否定**：可以明確判斷「有做到」或「沒做到」，不能模糊
- **具體**：有明確的數字、條件、或行為描述

**錯誤範例**：
❌ 「做得好」
❌ 「優化使用者體驗」
❌ 「提升團隊效率」

**正確範例**：
✅ 「測試覆蓋率達到 80%」
✅ 「API 回應時間 < 200ms」
✅ 「能正確檢測出所有不符合 style guide 的地方」
✅ 「誤報率 < 5%」

我的需求是：
[在這裡貼上你的需求]
```

### 2. 貼上你的需求

在 `[在這裡貼上你的需求]` 的地方，貼上你的需求描述，例如：

```
我想做一個 PR 審查 Agent，
能自動檢查 code style、測試覆蓋率、安全問題，
然後決定要自動合併還是需要人工審查。
```

### 3. 檢查 Copilot 的產出

檢查清單：
- [ ] 每條標準是否可觀察？（可以測試或測量）
- [ ] 每條標準是否可否定？（可以判斷有沒有達成）
- [ ] 是否有具體的數字或條件？
- [ ] 是否避免了「優化」、「提升」、「改善」這類模糊詞？

### 4. 調整後使用

滿意後，把驗收標準加到你的 Agent Idea 或其他 Issue 中。

---

## 範例

### 輸入
```
我想做一個文件更新 Agent，
能在 API 變更時自動找出受影響的文件並更新。
```

### Copilot 可能的產出

**驗收標準**：

1. **正確性**：能正確找出所有受影響的文件（召回率 ≥ 90%）
2. **準確性**：產生的更新建議是正確的（準確率 ≥ 85%）
3. **誤報控制**：誤報率 < 10%（不應該更新的文件不會被標記）
4. **效能**：處理時間 < 2 分鐘（從 API 變更到產出建議）
5. **自動化程度**：如果信心度 > 80%，能自動發 PR；否則標記 `needs-review`

---

## 常見問題

### Q: 如果需求本來就很模糊怎麼辦？

A: 那就先問 Copilot：「這個需求有哪些地方不夠清楚？」讓它幫你找出需要釐清的部分。

範例：
```
需求：「做一個 Agent 來優化團隊流程」

Copilot 可能回：
- 「優化」指的是什麼？省時間？減少錯誤？提升品質？
- 哪些流程要被優化？
- 怎麼衡量「優化」的效果？
```

---

### Q: 驗收標準可以有「主觀判斷」嗎？

A: 盡量避免，但如果真的需要，要明確定義「誰來判斷」和「判斷標準」。

❌ 不好的例子：「UI 看起來不錯」  
✅ 好的例子：「3 位 designer 中至少 2 位認為 UI 符合設計規範」

---

### Q: 數字一定要很精確嗎？

A: 不一定，但要「可驗證」。

✅ 可以寫：「測試覆蓋率 > 80%」（有明確數字）  
✅ 也可以寫：「能在 10 秒內回應」（有時間限制）  
❌ 不要寫：「很快」（太模糊）

---

### Q: 如果 Copilot 產出的標準太嚴格或太寬鬆？

A: 直接告訴它調整：

```
「這些標準太嚴格了，實際上 70% 準確率就夠用，請調整」
「誤報率 10% 太高，應該要 < 5%，請修正」
```

---

## 進階技巧

### 技巧 1：用「Given-When-Then」格式
```
Given [前提條件]
When [執行動作]
Then [預期結果]
```

範例：
- **Given** 一個修改了 API endpoint 的 PR
- **When** Agent 分析 diff 並搜尋相關文件
- **Then** 應該找出所有提到該 endpoint 的文件（召回率 > 90%）

---

### 技巧 2：分成「必須」和「加分」
有些標準是「必須達成」，有些是「有更好」。

**必須**：
- 測試覆蓋率 > 80%
- 誤報率 < 5%

**加分**：
- 能建議修正方式（不只是指出問題）
- 支援 Markdown 格式的報告

---

### 技巧 3：加上「負面測試」
不只定義「應該做到什麼」，也定義「不應該做什麼」。

範例：
- ✅ 應該檢測出 SQL injection 風險
- ❌ 不應該誤報正常的 SQL query

---

👉 回到：[Copilot Instructions](../instructions.md)
